(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[4],{22:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(26),c=n.n(r),a="2a73f06abe2eebf59e2f2b6c2b7b0bd5";function o(t,e){return c.a.get("https://api.themoviedb.org/3/".concat(t,"/").concat(e,"/credits?api_key=").concat(a)).then((function(t){return t.data}))}function i(){return c.a.get("https://api.themoviedb.org/3/trending/all/week?api_key=".concat(a)).then((function(t){return t.data}))}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return c.a.get("https://api.themoviedb.org/3/search/multi?query=".concat(t,"&page=").concat(e,"&api_key=").concat(a)).then((function(t){return t.data}))}function s(t,e){return c.a.get("https://api.themoviedb.org/3/".concat(t,"/").concat(e,"/reviews?api_key=").concat(a,"&language=en-US&page=1")).then((function(t){return t.data}))}function l(t,e){return c.a.get("https://api.themoviedb.org/3/".concat(t,"/").concat(e,"?api_key=").concat(a,"&language=en-US")).then((function(t){return t.data}))}},23:function(t,e,n){t.exports={gallery:"Gallery_gallery__1RWTp",gallery_item:"Gallery_gallery_item__1g7GU"}},27:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(9);var c=n(7);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},28:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(4),c=n(1),a=n(23),o=n.n(a),i=n(2);function u(t){var e=t.item,n=Object(c.f)();return Object(i.jsx)(r.b,{to:{pathname:"/movies/".concat(e.media_type,"/").concat(e.id),state:{from:n}},children:Object(i.jsx)("li",{className:o.a.gallery_item,children:Object(i.jsx)("img",{className:o.a.galleryItemImg,src:"".concat("https://image.tmdb.org/t/p/w342/").concat(e.poster_path),alt:e.title})})})}function s(t){var e=t.items;return Object(i.jsx)("ul",{className:o.a.gallery,children:e.map((function(t){return Object(i.jsx)(u,{item:t},t.id)}))})}},56:function(t,e,n){t.exports={searchForm:"Search_searchForm__3T8Vp",searchFormInput:"Search_searchFormInput__3lGDO",searchFormButton:"Search_searchFormButton__2O3Xp"}},60:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var r=n(27);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var i=n(5),u=n(0),s=n(1),l=n(28),f=n(56),b=n.n(f),m=n(2);function p(t){var e=t.onSubmit,n=Object(u.useState)(""),r=Object(i.a)(n,2),c=r[0],a=r[1];return Object(m.jsxs)("form",{className:b.a.searchForm,onSubmit:function(t){t.preventDefault(),""!==c.trim()?(e(c),a("")):alert("Input something!")},children:[Object(m.jsx)("button",{type:"submit",className:b.a.searchFormButton,children:"Go"}),Object(m.jsx)("input",{className:b.a.searchFormInput,value:c,type:"search",autoComplete:"off",autoFocus:!0,placeholder:"Search movies & TV-shows",onChange:function(t){a(t.target.value)}})]})}var h=n(22);function j(){var t=Object(s.f)(),e=Object(s.g)(),n=Object(u.useState)([]),c=Object(i.a)(n,2),a=c[0],f=c[1],b=Object(u.useState)(null),j=Object(i.a)(b,2),d=j[0],O=j[1],g=Object(u.useState)(1),y=Object(i.a)(g,2),v=y[0],_=y[1],S=Object(u.useState)("intial"),w=Object(i.a)(S,2),x=w[0],F=w[1],P=Object(u.useState)((function(){return new URLSearchParams(t.search).get("query")})),k=Object(i.a)(P,1)[0],I=d||k;return Object(u.useEffect)((function(){I&&(F("pending"),_(1),h.c(I).then((function(t){return f(t.results.filter((function(t){return"movie"===t.media_type||"tv"===t.media_type})))})).finally(F("success")))}),[I]),Object(u.useEffect)((function(){1!==v&&h.c(I,v).then((function(t){f((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t.results.filter((function(t){return"movie"===t.media_type||"tv"===t.media_type}))))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).finally(F("success"))}),[v,I]),Object(m.jsxs)(m.Fragment,{children:["pending"===x&&Object(m.jsx)("h2",{children:" FUCK"}),Object(m.jsx)(p,{onSubmit:function(n){e(o(o({},t),{},{search:"query=".concat(n)})),O(n)}}),a&&Object(m.jsx)(l.a,{items:a})]})}}}]);
//# sourceMappingURL=4.05960d5a.chunk.js.map