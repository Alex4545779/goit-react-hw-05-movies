{"version":3,"sources":["services/apiService.js","components/Gallery/Gallery.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Gallery/GalleryItem.jsx","components/Gallery/Gallery.jsx","components/Search/Search.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Search/Search.js","views/MoviePage.js"],"names":["API_KEY","getCreditsById","type","id","axios","get","then","r","data","getTrends","getInfoByQuerry","query","page","getReviews","getInfoById","module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","GalleryItem","item","location","useLocation","to","pathname","media_type","state","className","s","gallery_item","galleryItemImg","src","poster_path","alt","title","Gallery","items","gallery","map","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","onSubmit","useState","searchInput","setSearchInput","searchForm","e","preventDefault","trim","alert","searchFormButton","searchFormInput","autoComplete","autoFocus","placeholder","onChange","MoviesPage","navigate","useNavigate","results","setResults","setQuery","setPage","status","setStatus","URLSearchParams","search","urlQuery","allQUery","useEffect","apiService","el","finally","prev","window","scrollTo","top","document","documentElement","scrollHeight","behavior"],"mappings":"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","file":"static/js/4.05960d5a.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"2a73f06abe2eebf59e2f2b6c2b7b0bd5\";\n\nexport function getCreditsById(type, id) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/${type}/${id}/credits?api_key=${API_KEY}`\n    )\n    .then((r) => r.data);\n}\n\nexport function getTrends() {\n  return axios\n    .get(`https://api.themoviedb.org/3/trending/all/week?api_key=${API_KEY}`)\n    .then((r) => r.data);\n}\n\nexport function getDetailsById(id) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`\n    )\n    .then((r) => r.data);\n}\n\nexport function getInfoByQuerry(query, page = 1) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/search/multi?query=${query}&page=${page}&api_key=${API_KEY}`\n    )\n    .then((r) => r.data);\n}\n\nexport function getReviews(type, id) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/${type}/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    )\n    .then((r) => r.data);\n}\n\nexport function getInfoById(type, id) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/${type}/${id}?api_key=${API_KEY}&language=en-US`\n    )\n    .then((r) => r.data);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1RWTp\",\"gallery_item\":\"Gallery_gallery_item__1g7GU\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router\";\nimport s from './Gallery.module.css'\n\n\n\n\nexport default function GalleryItem({ item }) {\n    const base_img_url = 'https://image.tmdb.org/t/p/w342/';\n    const location = useLocation();\n    return (\n    <Link to={\n            {\n                pathname: `/movies/${item.media_type}/${item.id}`,\n            state: { from: location }\n            }\n    }>\n        <li className = {s.gallery_item}>\n                {/* <p>Raiting:{item.title} , {item.vote_average}/10</p> */}\n                 <img\n          className={s.galleryItemImg}\n          src={`${base_img_url}${item.poster_path}`}\n          alt={item.title}\n        />\n        </li>\n        </Link>\n    )\n    \n}\n","import PropTypes from 'prop-types';\nimport GalleryItem from './GalleryItem';\nimport s from './Gallery.module.css'\n\n\n\n\nexport default function Gallery({items}) {\n    return    ( \n    \n            <ul className={s.gallery}>\n                {items.map(item => (\n          <GalleryItem key={item.id} item={item} />\n            ))}\n        </ul>\n    )\n}\n\nGallery.propTypes = {\n    items: PropTypes.array\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"Search_searchForm__3T8Vp\",\"searchFormInput\":\"Search_searchFormInput__3lGDO\",\"searchFormButton\":\"Search_searchFormButton__2O3Xp\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import PropTypes from \"prop-types\";\nimport { useState } from \"react\";\nimport s from \"./Search.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchInput, setSearchInput] = useState(\"\");\n\n  const handlerChange = (e) => {\n    setSearchInput(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (searchInput.trim() === \"\") {\n      alert(\"Input something!\");\n      return;\n    }\n    onSubmit(searchInput);\n    setSearchInput(\"\");\n  };\n\n  return (\n    <form className={s.searchForm} onSubmit={handleSubmit}>\n      <button type=\"submit\" className={s.searchFormButton}>\n        Go\n      </button>\n\n      <input\n        className={s.searchFormInput}\n        value={searchInput}\n        type=\"search\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies & TV-shows\"\n        onChange={handlerChange}\n      />\n    </form>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport Gallery from \"../components/Gallery/Gallery\";\nimport Searchbar from \"../components/Search/Search\";\nimport * as apiService from \"../services/apiService\";\n\nexport default function MoviesPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [results, setResults] = useState([]);\n  const [query, setQuery] = useState(null);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"intial\");\n  const [urlQuery] = useState(() =>\n    new URLSearchParams(location.search).get(\"query\")\n  );\n\n  const allQUery = query || urlQuery;\n\n  const onSubmit = (query) => {\n    navigate({ ...location, search: `query=${query}` });\n    setQuery(query);\n  };\n\n  useEffect(() => {\n    if (!allQUery) {\n      return;\n    }\n    setStatus(\"pending\");\n    setPage(1);\n    apiService\n      .getInfoByQuerry(allQUery)\n      .then((r) =>\n        setResults(\n          r.results.filter(\n            (el) => el.media_type === \"movie\" || el.media_type === \"tv\"\n          )\n        )\n      )\n      .finally(setStatus(\"success\"));\n  }, [allQUery]);\n\n  useEffect(() => {\n    if (page !== 1) {\n      apiService\n        .getInfoByQuerry(allQUery, page)\n        .then((r) => {\n          setResults((prev) => [\n            ...prev,\n            ...r.results.filter(\n              (el) => el.media_type === \"movie\" || el.media_type === \"tv\"\n            ),\n          ]);\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        })\n        .finally(setStatus(\"success\"));\n    }\n  }, [page, allQUery]);\n\n  return (\n    <>\n      {status === \"pending\" && <h2> FUCK</h2>}\n      <Searchbar onSubmit={onSubmit} />\n\n      {results && <Gallery items={results} />}\n    </>\n  );\n}\n"],"sourceRoot":""}